import list

def Queue() returns empty:
    empty = []

def put(q, v):
    atomically !q = list.append(!q, v)

def get(q) returns next:
    atomically:
        if !q == []:
            next = None
        else:
            next = list.head(!q)
            !q = list.tail(!q)
