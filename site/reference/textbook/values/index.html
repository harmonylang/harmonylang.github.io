
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Harmony Language Details - HarmonyDocs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#harmony-language-details" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="HarmonyDocs" class="md-header__button md-logo" aria-label="HarmonyDocs" data-md-component="logo">
      
  <img src="../../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HarmonyDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Harmony Language Details
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="HarmonyDocs" class="md-nav__button md-logo" aria-label="HarmonyDocs" data-md-component="logo">
      
  <img src="../../../img/favicon.ico" alt="logo">

    </a>
    HarmonyDocs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/running-harmony/" class="md-nav__link">
        Running a program
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Textbook
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Textbook" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Textbook
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        On Concurrent Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../harmonyintro/" class="md-nav__link">
        Introduction to Harmony
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concurrent/" class="md-nav__link">
        The Problem of Concurrent Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../harmonymachine/" class="md-nav__link">
        The Harmony Virtual Machine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../critical/" class="md-nav__link">
        Critical Sections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../peterson/" class="md-nav__link">
        Peterson's Algorithm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../method/" class="md-nav__link">
        Harmony Methods and Pointers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../specification/" class="md-nav__link">
        Specification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../spinlock/" class="md-nav__link">
        Spinlock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../synch/" class="md-nav__link">
        Lock Implementations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cds/" class="md-nav__link">
        Concurrent Data Structures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../condwait/" class="md-nav__link">
        Conditional Waiting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sbs/" class="md-nav__link">
        Split Binary Semaphores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../starvation/" class="md-nav__link">
        Starvation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitors/" class="md-nav__link">
        Monitors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deadlock/" class="md-nav__link">
        Deadlock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actor/" class="md-nav__link">
        Actors and Message Passing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../barrier/" class="md-nav__link">
        Barrier Synchronization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interrupts/" class="md-nav__link">
        Interrupts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nonblocking/" class="md-nav__link">
        Non-Blocking Synchronization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../abp/" class="md-nav__link">
        Alternating Bit Protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../leader/" class="md-nav__link">
        Leader Election
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2pc/" class="md-nav__link">
        Transactions and Two Phase Commit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../chain/" class="md-nav__link">
        Chain Replication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../abd/" class="md-nav__link">
        Replicated Atomic Read/Write Register
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../consensus/" class="md-nav__link">
        Distributed Consensus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../paxos/" class="md-nav__link">
        Paxos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ns/" class="md-nav__link">
        Needham-Schroeder Authentication Protocol
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Language" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Language
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Harmony Language Details
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Harmony Language Details
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#value-types-and-operators" class="md-nav__link">
    Value Types and Operators
  </a>
  
    <nav class="md-nav" aria-label="Value Types and Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer" class="md-nav__link">
    Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atom" class="md-nav__link">
    Atom
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    Set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionary" class="md-nav__link">
    Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-or-tuple" class="md-nav__link">
    List or Tuple
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bag-or-multiset" class="md-nav__link">
    Bag or Multiset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#program-counter" class="md-nav__link">
    Program Counter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statements" class="md-nav__link">
    Statements
  </a>
  
    <nav class="md-nav" aria-label="Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-expression-evaluation" class="md-nav__link">
    Single expression evaluation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    Assignment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assert" class="md-nav__link">
    assert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atomically" class="md-nav__link">
    atomically
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#await" class="md-nav__link">
    await
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#const" class="md-nav__link">
    const
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#def" class="md-nav__link">
    def
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#del" class="md-nav__link">
    del
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-in-where" class="md-nav__link">
    for ... in ... [where ...]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-import" class="md-nav__link">
    from ... import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go" class="md-nav__link">
    go
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-elif-else" class="md-nav__link">
    if ... [elif ...]* [else]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant" class="md-nav__link">
    invariant
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#let" class="md-nav__link">
    let
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass" class="md-nav__link">
    pass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#possibly" class="md-nav__link">
    possibly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-in-where" class="md-nav__link">
    select ... in ... [ where ... ]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequential" class="md-nav__link">
    sequential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawn" class="md-nav__link">
    spawn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trap" class="md-nav__link">
    trap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#while" class="md-nav__link">
    while
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#harmony-is-not-object-oriented" class="md-nav__link">
    Harmony is not object-oriented
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants-global-and-local-variables" class="md-nav__link">
    Constants, Global and Local Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operator-precedence" class="md-nav__link">
    Operator Precedence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuples-lists-and-pattern-matching" class="md-nav__link">
    Tuples, Lists, and Pattern Matching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-allocation" class="md-nav__link">
    Dynamic Allocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    Comments
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hvm/" class="md-nav__link">
        The Harmony Virtual Machine 
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howitworks/" class="md-nav__link">
        How Harmony Works 
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Library
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Library" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Library
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/alloc/" class="md-nav__link">
        alloc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/bag/" class="md-nav__link">
        bag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/hoare/" class="md-nav__link">
        hoare
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/set/" class="md-nav__link">
        set
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../library/synch/" class="md-nav__link">
        synch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Textbook
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../acknowledgments/" class="md-nav__link">
        Acknowledgments
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#value-types-and-operators" class="md-nav__link">
    Value Types and Operators
  </a>
  
    <nav class="md-nav" aria-label="Value Types and Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer" class="md-nav__link">
    Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atom" class="md-nav__link">
    Atom
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    Set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionary" class="md-nav__link">
    Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-or-tuple" class="md-nav__link">
    List or Tuple
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bag-or-multiset" class="md-nav__link">
    Bag or Multiset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#program-counter" class="md-nav__link">
    Program Counter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statements" class="md-nav__link">
    Statements
  </a>
  
    <nav class="md-nav" aria-label="Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-expression-evaluation" class="md-nav__link">
    Single expression evaluation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    Assignment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assert" class="md-nav__link">
    assert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atomically" class="md-nav__link">
    atomically
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#await" class="md-nav__link">
    await
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#const" class="md-nav__link">
    const
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#def" class="md-nav__link">
    def
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#del" class="md-nav__link">
    del
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-in-where" class="md-nav__link">
    for ... in ... [where ...]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-import" class="md-nav__link">
    from ... import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go" class="md-nav__link">
    go
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-elif-else" class="md-nav__link">
    if ... [elif ...]* [else]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant" class="md-nav__link">
    invariant
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#let" class="md-nav__link">
    let
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass" class="md-nav__link">
    pass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#possibly" class="md-nav__link">
    possibly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-in-where" class="md-nav__link">
    select ... in ... [ where ... ]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequential" class="md-nav__link">
    sequential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawn" class="md-nav__link">
    spawn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trap" class="md-nav__link">
    trap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#while" class="md-nav__link">
    while
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#harmony-is-not-object-oriented" class="md-nav__link">
    Harmony is not object-oriented
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants-global-and-local-variables" class="md-nav__link">
    Constants, Global and Local Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operator-precedence" class="md-nav__link">
    Operator Precedence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuples-lists-and-pattern-matching" class="md-nav__link">
    Tuples, Lists, and Pattern Matching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-allocation" class="md-nav__link">
    Dynamic Allocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    Comments
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="harmony-language-details">Harmony Language Details</h1>
<h2 id="value-types-and-operators">Value Types and Operators</h2>
<p>Chapter 4 provides an introduction to Harmony values. Below is a complete list of
Harmony value types with examples:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td><strong>False</strong>, <strong>True</strong></td>
</tr>
<tr>
<td>Integer</td>
<td><code>-inf, ..., -2, -1, 0, 1, 2, ..., inf</code></td>
</tr>
<tr>
<td>Atom</td>
<td><code>.example</code>, <code>.test1</code>, <code>.0x4A</code></td>
</tr>
<tr>
<td>Program Counter</td>
<td>(method names are program counter constants)</td>
</tr>
<tr>
<td>Dictionary</td>
<td><code>{ .account: 12345, .valid: False }</code></td>
</tr>
<tr>
<td>Set</td>
<td><code>{}, { 1, 2, 3 }, { False, .id, 3 }</code></td>
</tr>
<tr>
<td>Address</td>
<td><code>?lock, ?flags[2], None</code></td>
</tr>
<tr>
<td>Context</td>
<td>(generated by <strong>stop</strong> expression)</td>
</tr>
</tbody>
</table>
<p>Tuples, lists, strings, and bags are all special cases of dictionaries.
Both tuples and lists map indexes (starting at 0) to Harmony values.
Their format is either <code>(e, e, ..., e,)</code> or <code>[e, e, ..., e,]</code>. If the
tuple or list has two or more elements, then the final comma is
optional. A string is represented as a tuple of its characters.
Characters are one-character atoms, which can be expressed in
hexadecimal unicode using the syntax <code>.0xXX</code>. A bag or multiset is a
dictionary that maps a value to how many times it occurs in the bag.</p>
<p>All Harmony values are ordered with respect to one another. First they
are ordered by type according to the table above. So, for example,
<code>True &lt; 0 &lt; .xyz &lt; { 0 })</code>. Within types, the following rules apply:</p>
<ul>
<li>
<p><code>False &lt; True</code>;</p>
</li>
<li>
<p>integers are ordered in the natural way;</p>
</li>
<li>
<p>atoms are lexicographically ordered;</p>
</li>
<li>
<p>program counters are ordered by their integer values;</p>
</li>
<li>
<p>dictionaries are first converted into a list of ordered (key, value)
    pairs. Then two dictionaries are lexicographically ordered by this
    representation;</p>
</li>
<li>
<p>a set is first converted into an ordered list, then
    lexicographically ordered;</p>
</li>
<li>
<p>an address is a list of atoms. <code>None</code> is the empty list of atoms.
    Addresses are lexicographically ordered accordingly;</p>
</li>
<li>
<p>contexts () are ordered first by name, then by program counter, then
    by the remaining content.</p>
</li>
</ul>
<p>Generic operators on Harmony values include:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>e == e</code></td>
<td>equivalence</td>
</tr>
<tr>
<td><code>e != e</code></td>
<td>inequivalence</td>
</tr>
<tr>
<td><code>e &lt; e, e &lt;= e, e &gt; e, e &gt;= e</code></td>
<td>comparison</td>
</tr>
</tbody>
</table>
<h3 id="boolean">Boolean</h3>
<p>The Boolean type has only two possible values: <strong>False</strong> and <strong>True</strong>.
Unlike in Python, in Harmony booleans are distinct from integers, and in
particular <span class="arithmatex">\(\mathbf{False} &lt; 0\)</span>. In statements and expressions where
booleans are expected, it is not possible to substibute values of other
types.</p>
<p>Operations on booleans include:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>e and e and ...</code></td>
<td>conjuction</td>
</tr>
<tr>
<td><code>e or e or ...</code></td>
<td>disjunction</td>
</tr>
<tr>
<td><code>e =&gt; e, e not =&gt; e</code></td>
<td>implication</td>
</tr>
<tr>
<td><code>not e</code></td>
<td>negation</td>
</tr>
<tr>
<td><code>v if e else v'</code></td>
<td><span class="arithmatex">\(v\)</span> or <span class="arithmatex">\(v'\)</span> depending on <span class="arithmatex">\(e\)</span></td>
</tr>
<tr>
<td><code>any s, all s</code></td>
<td>disjunction / conjunction for set or list <span class="arithmatex">\(s\)</span></td>
</tr>
</tbody>
</table>
<h3 id="integer">Integer</h3>
<p>The integer type supports any whole number, as well as <span class="arithmatex">\(-\mathtt{inf}\)</span>
and <span class="arithmatex">\(\mathtt{inf}\)</span>. In the Python-based model checker, integers are
infinite precision. In the C-based model checker, integers are
implemented by two's complement 61-bit words, and <span class="arithmatex">\(-\mathtt{inf}\)</span> is
represented by the minimal integer and <span class="arithmatex">\(\mathtt{inf}\)</span> is represented by
the maximal integer.</p>
<p>Operations on integers include:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-e</code></td>
<td>negation</td>
</tr>
<tr>
<td><code>abs(e)</code></td>
<td>absolute value</td>
</tr>
<tr>
<td><code>e + e + ...</code></td>
<td>sum</td>
</tr>
<tr>
<td><code>e - e</code></td>
<td>difference</td>
</tr>
<tr>
<td><code>e * e * e ...</code></td>
<td>product</td>
</tr>
<tr>
<td><code>e / e, e // e</code></td>
<td>integer division</td>
</tr>
<tr>
<td><code>e % e, e mod e</code></td>
<td>integer division remainder</td>
</tr>
<tr>
<td><code>e ** e</code></td>
<td>power</td>
</tr>
<tr>
<td><code>e</code></td>
<td>binary inversion</td>
</tr>
<tr>
<td><code>e &amp; e &amp; ...</code></td>
<td>binary and</td>
</tr>
<tr>
<td><code>e | e | ...</code></td>
<td>binary or</td>
</tr>
<tr>
<td><code>e ^ e ^ ...</code></td>
<td>binary exclusive or</td>
</tr>
<tr>
<td><code>e &lt;&lt; e</code></td>
<td>binary shift left</td>
</tr>
<tr>
<td><code>e &gt;&gt; e</code></td>
<td>binary shift right</td>
</tr>
<tr>
<td><code>\{ e..e' \}</code></td>
<td>set of integers from <span class="arithmatex">\(e\)</span> to <span class="arithmatex">\(e'\)</span> inclusive</td>
</tr>
</tbody>
</table>
<h3 id="atom">Atom</h3>
<p>Atoms are essentially names and consist of one or more unicode
characters. If they do not contain special characters and do not start
with a digit, then an atom can be represented by a "." followed by the
characters. For example, <code>.hello</code> is a representation of the atom
"hello". A special character can be represented by <code>.0xXX</code>, where <code>XX</code>
is the hexidecimal unicode for the character. Atoms should not be
confused with strings. There are no special operations on atoms. (In the
future, operators may be introduced that convert between strings and
atoms.)</p>
<h3 id="set">Set</h3>
<p>In Harmony you can create a set of any collection of Harmony values. Its
syntax is <code>{ v_0, v_1, ... }</code>. Python users: note that in Harmony the
empty set is denoted as <span class="arithmatex">\(\{\}\)</span>.</p>
<p>The <code>set</code> module () contains various convenient routines that operate on
sets. Native operations on sets include:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>len s</code></td>
<td>cardinality</td>
</tr>
<tr>
<td><code>s - s</code></td>
<td>set difference</td>
</tr>
<tr>
<td><code>s &amp; s &amp; ...</code></td>
<td>intersection</td>
</tr>
<tr>
<td><code>s | s | ...</code></td>
<td>union</td>
</tr>
<tr>
<td><code>s ^ s ^ ...</code></td>
<td>inclusion/exclusion (elements in odd number of sets)</td>
</tr>
<tr>
<td><code>choose s</code></td>
<td>select an element (Harmony will try all)</td>
</tr>
<tr>
<td><code>min s</code></td>
<td>minimum element</td>
</tr>
<tr>
<td><code>max s</code></td>
<td>maximum element</td>
</tr>
<tr>
<td><code>any s</code></td>
<td><strong>True</strong> if any value is <strong>True</strong></td>
</tr>
<tr>
<td><code>all s</code></td>
<td><strong>True</strong> if all values are <strong>True</strong></td>
</tr>
</tbody>
</table>
<p>Harmony also supports <em>set comprehension</em>. In its simplest form,
<code>{ f(v) for v in s }</code> returns a set that is constructed by applying <code>f</code>
to all elements in <span class="arithmatex">\(s\)</span> (where <span class="arithmatex">\(s\)</span> is a set or a list). This is known as
<em>mapping</em>. But set comprehension is much more powerful and can include
joining multiple sets (using nested for loops) and filtering (using the
<code>where</code> keyword).</p>
<p>For example: <code>{ x + y for x in s for y in s where (x * y) == 4 }</code>
returns a set that is constructed by summing pairs of elements from <span class="arithmatex">\(s\)</span>
that, when multiplied, have the value 4.</p>
<h3 id="dictionary">Dictionary</h3>
<p>A dictionary maps a set of values (known as <em>keys</em>) to another set of
values. The generic syntax of a dictionary is
<span class="arithmatex">\(\{ k_0:v_0, k_1:v_1, ... \}\)</span>. Different from Python, the empty
dictionary is either <span class="arithmatex">\(()\)</span> or <span class="arithmatex">\([]\)</span> (because <span class="arithmatex">\(\{\}\)</span> is the empty set in
Harmony). If there are duplicate keys in the list, then only the one
with the maximum value survives. Therefore the order of the keys in the
dictionary does not matter.</p>
<p>Dictionaries support comprehension. The basic form is:
<code>{ f(k):g(k) for k in s }</code>.</p>
<p>There are various special cases of dictionaries, including lists,
tuples, strings, and bags (multisets) that are individually described
below.</p>
<p>Operations on dictionaries include the following:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>d~k</code></td>
<td>indexing</td>
</tr>
<tr>
<td><code>len d</code></td>
<td>the number of keys in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>keys d</code></td>
<td>the set of keys in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>v [not] in keys d</code></td>
<td>check if <span class="arithmatex">\(v\)</span> is a <em>key</em> in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>v [not] in d</code></td>
<td>check if <span class="arithmatex">\(v\)</span> is a <em>value</em> in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>min d</code></td>
<td>the minimum value in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>max d</code></td>
<td>the maximum value in <span class="arithmatex">\(d\)</span></td>
</tr>
<tr>
<td><code>any d</code></td>
<td><strong>True</strong> if any value is <strong>True</strong></td>
</tr>
<tr>
<td><code>all d</code></td>
<td><strong>True</strong> if all values are <strong>True</strong></td>
</tr>
<tr>
<td><code>d &amp; d &amp; ...</code></td>
<td>dictionary intersection</td>
</tr>
<tr>
<td><code>d | d | ...</code></td>
<td>dictionary union</td>
</tr>
</tbody>
</table>
<p>Because in Harmony brackets are used for parsing purposes only, you can
write <span class="arithmatex">\(d[k]\)</span> (or <span class="arithmatex">\(d(k)\)</span>) instead of <span class="arithmatex">\(d~k\)</span>. However, if <span class="arithmatex">\(k\)</span> is an atom,
like <code>.id</code>, then you might prefer the notation <span class="arithmatex">\(k\mathtt{.id}\)</span>.</p>
<p>Python users beware: the Harmony <code>v in d</code> operator checks if there is
some key <span class="arithmatex">\(k\)</span> such that <span class="arithmatex">\(d[k] = v\)</span>. In Python, the same syntax checks if
<span class="arithmatex">\(v\)</span> is a key in <span class="arithmatex">\(d\)</span>. The difference exists because in Harmony a list is
a special case of a dictionary.</p>
<p>Dictionary intersection and dictionary union are defined so that they
work well with bags. With disjoint dictionaries, intersection and union
work as expected. If there is a key in the intersection, then dictionary
intersection retains the minimum value while dictionary union retains
the maximum value. Unlike Python, Harmony dictionary intersection and
union are commutative and associative.</p>
<h3 id="list-or-tuple">List or Tuple</h3>
<p>In Harmony, there is no distinction between a list or a tuple. Both are
a special case of dictionary. In particular, a list of <span class="arithmatex">\(n\)</span> values is
represented by a dictionary that maps the integers <span class="arithmatex">\(0, ..., n-1\)</span> to
those values. Hence, if <span class="arithmatex">\(t\)</span> is a list or tuple, then the notation <span class="arithmatex">\(t[0]\)</span>
returns the first element of the list.</p>
<p>You can denote a list by a sequence of values, each value terminated by
a comma. As per usual, you can use brackets or parentheses at your
discretion. For Python users, the important thing to note is that a
singleton list in Harmony must contain a comma. For example <span class="arithmatex">\([1,]\)</span> is a
list containing the value <span class="arithmatex">\(1\)</span>, while <span class="arithmatex">\([1]\)</span> is simply the value <span class="arithmatex">\(1\)</span>.</p>
<p>The <code>list</code> module () contains various convenient routines that operate
on lists or tuples. Native operations on lists or tuples include the
following:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>t~k</code></td>
<td>indexing</td>
</tr>
<tr>
<td><code>t + t + ...</code></td>
<td>concatenation</td>
</tr>
<tr>
<td><code>t * n</code></td>
<td><span class="arithmatex">\(n\)</span> copies of <span class="arithmatex">\(t\)</span> concatenated</td>
</tr>
<tr>
<td><code>v [not] in t</code></td>
<td>check if <span class="arithmatex">\(v\)</span> is a <em>value</em> in <span class="arithmatex">\(t\)</span></td>
</tr>
<tr>
<td><code>len t</code></td>
<td>the length of <span class="arithmatex">\(t\)</span></td>
</tr>
<tr>
<td><code>min t</code></td>
<td>the minimum value in <span class="arithmatex">\(t\)</span></td>
</tr>
<tr>
<td><code>max t</code></td>
<td>the maximum value in <span class="arithmatex">\(t\)</span></td>
</tr>
<tr>
<td><code>any t</code></td>
<td><strong>True</strong> if any value is <strong>True</strong></td>
</tr>
<tr>
<td><code>all t</code></td>
<td><strong>True</strong> if all values are <strong>True</strong></td>
</tr>
<tr>
<td><code>t &amp; t &amp; ...</code></td>
<td>pairwise list minimum</td>
</tr>
<tr>
<td><code>t | t | ...</code></td>
<td>pairwise list maximum</td>
</tr>
</tbody>
</table>
<p>Lists and tuples support comprehension as well. In their most basic
form: <code>f(v) for v in s</code>. For example, to check if any element in a list
<span class="arithmatex">\(t\)</span> is even, you can write:</p>
<p><code>any((x \% 2) == 0 for x in t)</code>.</p>
<h3 id="string">String</h3>
<p>In Harmony, a string is a list of single-character atoms. The Python
string notations mostly work in Harmony as well. For example, <code>’abc’</code> is
a three-character string consisting of the atoms <code>.a</code>, <code>.b</code>, and <code>.c</code>.
<code>"abc"</code> is the same three-character string. Various special characters
(including quotes, newlines, etc.) can be <em>escaped</em> using a backslash.
Multi-line strings can be terminated by triple quotes or triple
double-quotes.</p>
<p>Native operations on strings include the following:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>s~k</code></td>
<td>indexing</td>
</tr>
<tr>
<td><code>s + s + ...</code></td>
<td>concatenation</td>
</tr>
<tr>
<td><code>s * n</code></td>
<td><span class="arithmatex">\(n\)</span> copies of <span class="arithmatex">\(s\)</span> concatenated</td>
</tr>
<tr>
<td><code>c [not] in s</code></td>
<td>check if <span class="arithmatex">\(c\)</span> (a one-character atom) is in <span class="arithmatex">\(s\)</span></td>
</tr>
<tr>
<td><code>len s</code></td>
<td>the length of <span class="arithmatex">\(s\)</span></td>
</tr>
</tbody>
</table>
<h3 id="bag-or-multiset">Bag or Multiset</h3>
<p>A bag is represented by a dictionary that maps each element to its
multiplicity, for example: { 10:2, 12:1 }. The <code>bag</code> module () contains
various convenient routines that operate on lists or tuples. Native
operations on bags include the following:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>v [not] in keys b</code></td>
<td>check if <span class="arithmatex">\(v\)</span> is in <span class="arithmatex">\(b\)</span></td>
</tr>
<tr>
<td><code>t &amp; t &amp; ...</code></td>
<td>bag intersection</td>
</tr>
<tr>
<td><code>t | t | ...</code></td>
<td>bag union</td>
</tr>
</tbody>
</table>
<h3 id="program-counter">Program Counter</h3>
<p>A program counter is an integer that can be used to index into Harmony
bytecode. When you define a method, a lambda function, or a label, you
are creating a constant of the program counter type.</p>
<p>Operations on program counters include the following:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>m a</code></td>
<td>invoke method with program counter <span class="arithmatex">\(m\)</span> and argument <span class="arithmatex">\(a\)</span></td>
</tr>
<tr>
<td><code>atLabel l</code></td>
<td>return a bag of (method, argument) pairs of threads executing at label <span class="arithmatex">\(l\)</span></td>
</tr>
<tr>
<td><code>countLabel l</code></td>
<td>return the number of threads executing at label <span class="arithmatex">\(l\)</span></td>
</tr>
</tbody>
</table>
<p>You can create lambda functions similarly to Python. For example:
<code>lambda(x,y):x+y</code>.</p>
<h3 id="address">Address</h3>
<p>In Harmony, each shared variable has an address, which is essentially a
list of Harmony values. For example, the address of variable
<span class="arithmatex">\(d.\mathtt{v}[3]\)</span> consists of the list <code>.d</code>, <code>.v</code>, and 3. The only way
to construct an address in Harmony is using the <span class="arithmatex">\(?\)</span> operator.
<span class="arithmatex">\(?d.\mathtt{v}[3]\)</span> returns the address of variable <span class="arithmatex">\(d.\mathtt{v}[3]\)</span>. An
address can be dereferenced to return the value of the variable. If <span class="arithmatex">\(a\)</span>
is an address, then <span class="arithmatex">\(!a\)</span> returns the value. Like C, Harmony supports the
shorthand <code>a-&gt;v</code> for the expression <code>(!a).v</code>.</p>
<h3 id="context">Context</h3>
<p>A context value captures the state of a thread. A context is itself
composed over various Harmony values.</p>
<p>A thread can call <code>get_context()</code> to retrieve its current context.</p>
<h2 id="statements">Statements</h2>
<p>Harmony currently supports the following statements (below, <code>S</code> is a
list of statements):</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="arithmatex">\(e\)</span></td>
<td><span class="arithmatex">\(e\)</span> is an expression</td>
</tr>
<tr>
<td><em>lv</em> = [lv =]... <span class="arithmatex">\(e\)</span></td>
<td><em>lv</em> is an lvalue and <span class="arithmatex">\(e\)</span> is an expression</td>
</tr>
<tr>
<td><em>lv</em> <code>[op]=</code> <span class="arithmatex">\(e\)</span></td>
<td><code>op</code> is one of <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>//</code>, <code>%</code>, <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>and</code>, <code>or</code></td>
</tr>
<tr>
<td><code>assert b [, e]</code></td>
<td><span class="arithmatex">\(b\)</span> is a boolean. Optionally report value of expression <span class="arithmatex">\(e\)</span></td>
</tr>
<tr>
<td><code>atomic: S</code></td>
<td><code>S</code> a list of statements</td>
</tr>
<tr>
<td><code>await b</code></td>
<td><span class="arithmatex">\(b\)</span> is a boolean</td>
</tr>
<tr>
<td><code>const a = e</code></td>
<td><code>a</code> is a bounded variable, <span class="arithmatex">\(e\)</span> is a constant expression</td>
</tr>
<tr>
<td><code>def m a: S</code></td>
<td><code>m</code> is an identifier, <span class="arithmatex">\(a\)</span> a bounded variable</td>
</tr>
<tr>
<td><code>del</code> <em>lv</em></td>
<td>delete</td>
</tr>
<tr>
<td><code>for a[:b] in e [where c]: S</code></td>
<td><span class="arithmatex">\(a\)</span> and <span class="arithmatex">\(b\)</span> are bounded variables, <span class="arithmatex">\(e\)</span> is a set or dictionary</td>
</tr>
<tr>
<td><code>from m import ...</code></td>
<td><code>m</code> identifies a module</td>
</tr>
<tr>
<td><code>go c e</code></td>
<td><span class="arithmatex">\(c\)</span> is a context, <span class="arithmatex">\(e\)</span> is an expression</td>
</tr>
<tr>
<td><code>if b: S else: S</code></td>
<td><span class="arithmatex">\(b\)</span> is a boolean, <code>S</code> is a list of statements</td>
</tr>
<tr>
<td><code>import m, ...</code></td>
<td><code>m</code> identifies a module</td>
</tr>
<tr>
<td><code>invariant e</code></td>
<td><code>e</code> is an invariant</td>
</tr>
<tr>
<td><code>let a = e [let ...]: S</code></td>
<td><span class="arithmatex">\(a\)</span> is a bounded variable, <span class="arithmatex">\(e\)</span> is an expression</td>
</tr>
<tr>
<td><code>pass</code></td>
<td>do nothing</td>
</tr>
<tr>
<td><code>possibly b [, b, ...]</code></td>
<td>each <span class="arithmatex">\(b\)</span> is a boolean</td>
</tr>
<tr>
<td><code>select a in e: S</code></td>
<td><span class="arithmatex">\(a\)</span> is a bounded variable, <span class="arithmatex">\(e\)</span> is a set, <code>S</code> a list of statements</td>
</tr>
<tr>
<td><code>sequential v, ...</code></td>
<td><code>v</code> has sequential consistency</td>
</tr>
<tr>
<td><code>spawn [eternal] m e [, t]</code></td>
<td><code>m</code> is a method, <span class="arithmatex">\(e\)</span> is an expression, <span class="arithmatex">\(t\)</span> is the thread-local state</td>
</tr>
<tr>
<td><code>trap m e</code></td>
<td><code>m</code> is a method and <span class="arithmatex">\(e\)</span> is an expression</td>
</tr>
<tr>
<td><code>while b: S</code></td>
<td><span class="arithmatex">\(b\)</span> is a boolean, <code>S</code> a list of statements</td>
</tr>
</tbody>
</table>
<h3 id="single-expression-evaluation">Single expression evaluation</h3>
<p>Any expression by itself can be used as a statement. The most common
form of this is a function application, for example: <code>f</code>(). This
statement evaluates <code>f</code>() but ignores its result. It is equivalent to
the assignment statement <span class="arithmatex">\(\_ = \mathtt{f}()\)</span>.</p>
<h3 id="assignment">Assignment</h3>
<p>The statement <span class="arithmatex">\(x = 3\)</span> changes the state by assigning 3 to variable <span class="arithmatex">\(x\)</span>
(assuming <span class="arithmatex">\(x\)</span> was not already 3). <span class="arithmatex">\(x\)</span> may be a local variable or a
shared variable. The statement <span class="arithmatex">\(x = y = 3\)</span> first updates <span class="arithmatex">\(y\)</span>, then <span class="arithmatex">\(x\)</span>.
The statement <span class="arithmatex">\(x[\mathtt{f}()] = y[\mathtt{g}()] = \mathtt{h}()\)</span> first
computes the address of <span class="arithmatex">\(x[\mathtt{f}()]\)</span>, then computes the address of
<span class="arithmatex">\(y[\mathtt{g}()]\)</span>, then evaluates <span class="arithmatex">\(\mathtt{h}()\)</span>, then assigns the
resulting value to <span class="arithmatex">\(y[\mathtt{g}()]\)</span> (using its previously computed
address), and finally assigns the same value to <span class="arithmatex">\(x[\mathtt{f}()]\)</span> (again
using its previously computed address). The statement <span class="arithmatex">\(a,b = c\)</span> assumes
that <span class="arithmatex">\(c\)</span> is a tuple with two values. It first evaluates the addresses of
<span class="arithmatex">\(a\)</span> and <span class="arithmatex">\(b\)</span> and first assigns to the latter and then the former. If <span class="arithmatex">\(c\)</span>
is not a tuple with two values, then Harmony will report an error.</p>
<p>Assigning to <span class="arithmatex">\(\_\)</span> evaluates the righthand side expression but is
otherwise a no-op.</p>
<p>The statement <span class="arithmatex">\(x~+\)</span><span class="arithmatex">\(= 3\)</span> loads <span class="arithmatex">\(x\)</span>, adds 3, and then stores the results
in <span class="arithmatex">\(x\)</span>. In this case, it is equivalent to <span class="arithmatex">\(x = x + 3\)</span>. However, in
general this is not so. For example, <span class="arithmatex">\(x[\mathtt{f}()]~+\)</span><span class="arithmatex">\(= 3\)</span> only
evaluates <span class="arithmatex">\(\mathtt{f}()\)</span> once. Unlike Python, however, <span class="arithmatex">\(x~+\)</span><span class="arithmatex">\(= [3,]\)</span> is
equivalent to <span class="arithmatex">\(x = x + [3,]\)</span> in Harmony. (In Python, the following two
compound statements lead to different results for <span class="arithmatex">\(y\)</span>:
<span class="arithmatex">\(x = y = []; x~+\)</span><span class="arithmatex">\(= [3]\)</span> and <span class="arithmatex">\(x = y = []; x = x + [3]\)</span>.)</p>
<h3 id="assert"><strong>assert</strong></h3>
<p>The statement <strong>assert <span class="arithmatex">\(b\)</span></strong> evaluates <span class="arithmatex">\(b\)</span> and reports an error if <span class="arithmatex">\(b\)</span>
is false. It should be considered a no-op---it is part of the
<em>specification</em>, not part of the <em>implementation</em> of the algorithm. In
particular, it specifies an invariant: whenever the program counter is
at the location where the <strong>assert</strong> statement is, then <span class="arithmatex">\(b\)</span> is always
true.</p>
<p>If <span class="arithmatex">\(b\)</span> is an expression, then it is evaluated atomically. Moreover, the
expression is not allowed to change the state. If it does change the
state, Harmony will report an error as well.</p>
<p>As in Python, you can specify an additional expression: <strong>assert <span class="arithmatex">\(b\)</span>,
<span class="arithmatex">\(e\)</span></strong>. The value of <span class="arithmatex">\(e\)</span> will be reported as part of the error should <span class="arithmatex">\(b\)</span>
evaluate to false.</p>
<h3 id="atomically"><strong>atomically</strong></h3>
<p>The statement <strong>atomic <span class="arithmatex">\(S_1; S_2; ...\)</span></strong> evaluates statements
<span class="arithmatex">\(S_1, S_2, ...\)</span> atomically in that no other threads can run while this
atomic block is executing. Typically an atomic block runs to completion
before any other thread can run. The only exception to this is if the
atomic block executes a <strong>stop</strong> expression. In this case, another
thread can run. When the original thread is resumed (using a <strong>go</strong>
statement), it is once again atomically executing.</p>
<p>The <strong>atomic</strong> statement is useful for implementing synchronization
primitives such as test-and-set. It is also useful for testing. It is
not a replacement for lock/unlock, and should not generally be used for
synchronization otherwise. Lock/unlock does allow other threads to run
concurrently---just not in the same critical section.</p>
<h3 id="await"><strong>await</strong></h3>
<p>The statement <strong>await <span class="arithmatex">\(b\)</span></strong> is equivalent to <strong>while !<span class="arithmatex">\(b\)</span>: pass</strong>. It is
intended to improve readability of your code.</p>
<h3 id="const"><strong>const</strong></h3>
<p>The expression <strong>const</strong> <code>N = 3</code> introduces a new constant <code>N</code> with the
value 3. Evaluating <code>N</code> does not lead to loading from a memory location.
The assignment can be overridden with the <code>-c</code> flag: <code>harmony -cN=4</code>
executes the model checker with 4 assigned to <code>N</code> instead of 3. Harmony
also supports <strong>const</strong> <code>N, M = 3, 4</code>, which assigns 3 to <code>N</code> and 4 to
<code>M</code>. Harmony has limited support for <em>constant folding</em>. For example,
<strong>const</strong> <code>N = 3 + 4</code> assigns value 7 to constant <code>N</code>.</p>
<h3 id="def"><strong>def</strong></h3>
<p>The statement <strong>def</strong> <code>m</code> <span class="arithmatex">\(a: S_1; S_2: ...\)</span> defines a new program
counter constant <code>m</code> referring to a method that takes an argument <span class="arithmatex">\(a\)</span>
and executes the statements <span class="arithmatex">\(S_1, S_2, ...\)</span>. The argument <span class="arithmatex">\(a\)</span> can be a
tuple pattern similar to those used in <code>let</code> and <code>for</code> statements.
Examples include <span class="arithmatex">\(()\)</span>, <span class="arithmatex">\((x,)\)</span>, <span class="arithmatex">\((x, y)\)</span>, and <span class="arithmatex">\((x, (y, z))\)</span>. The given
local variable names variable names are assigned upon application. It is
allowed, but discouraged, to updates those local variables in statements
<span class="arithmatex">\(S_1, S_2, ...\)</span>. Each method has a predefined local variable <em>result</em>,
initialized to <code>None</code>, that is returned by the method. Harmony does not
support a <code>return</code> statement that <em>breaks out</em> of the code before
executing the last statement.</p>
<h3 id="del"><strong>del</strong></h3>
<p>The statement <strong>del</strong> <span class="arithmatex">\(x\)</span> removes variable <span class="arithmatex">\(x\)</span> from the state. <span class="arithmatex">\(x\)</span> can
be either a local or a shared variable. For example, the statement
<strong>del</strong> <span class="arithmatex">\(x.\texttt{age}\)</span> removes the <code>.age</code> field from dictionary <span class="arithmatex">\(x\)</span>.
Harmony automatically removes top-level local variables that are no
longer in use from the state in order to attempt to reduce the number of
states that are evaluated during model checking.</p>
<p>Because Harmony lists are dictionaries, deleting from lists is different
from Python: <span class="arithmatex">\(x = [\mathtt{.a}, \mathtt{.b}]; \mathbf{del}~x[0]\)</span> results
in <span class="arithmatex">\(x\)</span> having value <span class="arithmatex">\(\{1: \mathtt{.b}\}\)</span> rather than <span class="arithmatex">\([\mathtt{.b}]\)</span>
(which is <span class="arithmatex">\(\{0: \mathtt{b}\}\)</span>).</p>
<h3 id="for-in-where"><strong>for ... in ... [where ...]</strong></h3>
<p>The statement <strong>for</strong> <span class="arithmatex">\(x\)</span> <strong>in</strong> <span class="arithmatex">\(y: S_1; S_2; ...\)</span> iterates over <span class="arithmatex">\(y\)</span>
and executes for each element the statements <span class="arithmatex">\(S_1, S_2, ...\)</span>. <span class="arithmatex">\(y\)</span> must
be a set or a dictionary. <span class="arithmatex">\(y\)</span> is evaluated only once at the beginning of
the evaluation of this statement. In case of a set, the result is sorted
(using Harmony's global order on all values). In case of a dictionary,
the statement iterates over the values of the dictionary in the order of
the keys. This makes iterating over lists intuitive and identical to
Python. For each element, the statements <span class="arithmatex">\(S_1, S_2, ...\)</span> are executed
with local variable <span class="arithmatex">\(y\)</span> having the value of the element. <span class="arithmatex">\(x\)</span> can be a
pattern such as <span class="arithmatex">\((a)\)</span> or <span class="arithmatex">\((a, (b, c))\)</span>. If the pattern cannot be
matched, Harmony detects and error. It is allowed, but discouraged, to
assign different values to <span class="arithmatex">\(x\)</span> within statements <span class="arithmatex">\(S_1, S2, ...\)</span>.</p>
<p>If <span class="arithmatex">\(y\)</span> is a dictionary, Harmony also supports the form <strong>for</strong> <span class="arithmatex">\(k:v\)</span>
<strong>in</strong> <span class="arithmatex">\(y: S_1; S_2; ...\)</span>. This works similar, except that <span class="arithmatex">\(k\)</span> is bound
to the key and <span class="arithmatex">\(v\)</span> is bound to the value.</p>
<p>The statement also supports nesting and filtering. Nesting is of the
form <strong>for</strong> <span class="arithmatex">\(x_1\)</span> <strong>in</strong> <span class="arithmatex">\(y_1\)</span> <strong>for</strong> <span class="arithmatex">\(x_2\)</span> <strong>in</strong> <span class="arithmatex">\(y_2\)</span>:
<span class="arithmatex">\(S_1; S_2; ...\)</span>, which is equivalent to the statement <strong>for</strong> <span class="arithmatex">\(x_1\)</span>
<strong>in</strong> <span class="arithmatex">\(y_1\)</span>: <strong>for</strong> <span class="arithmatex">\(x_2\)</span> <strong>in</strong> <span class="arithmatex">\(y_2\)</span>: <span class="arithmatex">\(S_1; S_2; ...\)</span>. Filtering is
of the form <strong>for</strong> <span class="arithmatex">\(x\)</span> <strong>in</strong> <span class="arithmatex">\(y\)</span> <strong>where</strong> <span class="arithmatex">\(z: S_1; S_2; ...\)</span>. For
example, <strong>for</strong> <span class="arithmatex">\(x\)</span> <strong>in</strong> { 1 .. 10 } <strong>where</strong> <span class="arithmatex">\((x \% 2) == 0:
S_1; S_2; ...\)</span> only evaluates statements <span class="arithmatex">\(S_1, S_2, ...\)</span> for even <span class="arithmatex">\(x\)</span>,
that is, 2, 4, 6, 8, and 10.</p>
<p>Harmony does not support <strong>break</strong> or <strong>continue</strong> statements.</p>
<h3 id="from-import"><strong>from ... import</strong></h3>
<p>The statement <strong>from</strong> <code>x</code> <strong>import</strong> <code>a, b, ...</code> imports module <code>x</code> and
makes its constants <span class="arithmatex">\(a, b, ...\)</span> also constants in the current module. If
a module is imported more than once, its code is only included the first
time. The constants will typically be the names of methods (program
counter constants) within the module.</p>
<p>You can import all constants from a module <code>m</code> (including program
counter constants) using the statement <strong>from</strong> <code>m</code> <strong>import</strong> <code>*</code>.
This, however, excludes constants whose names start with the character
<code>_</code>: those are considered <em>private</em> to the module.</p>
<h3 id="go"><strong>go</strong></h3>
<p>The statement <strong>go</strong> <span class="arithmatex">\(c\)</span> <span class="arithmatex">\(e\)</span> starts a thread with context <span class="arithmatex">\(c\)</span> that has
executed a <strong>stop</strong> expression. The <strong>stop</strong> expression returns value
<span class="arithmatex">\(e\)</span>. The same context can be started multiple times, allowing threads to
<em>fork</em>.</p>
<h3 id="if-elif-else"><strong>if ... [elif ...]* [else]</strong></h3>
<p>Harmony supports <strong>if</strong> statements. In its most basic form, <strong>if</strong>
<span class="arithmatex">\(c: S_1; S_2; ...\)</span> evaluates <span class="arithmatex">\(c\)</span> and executes statements <span class="arithmatex">\(S_1, S_2, ...\)</span>
if and only if boolean expression <span class="arithmatex">\(c\)</span> evaluated to true. Harmony checks
that <span class="arithmatex">\(c\)</span> is either <strong>False</strong> or <strong>True</strong>---if neither is the case,
Harmony reports an error. The statement <strong>if</strong> <span class="arithmatex">\(c: S_1, S_2, ...\)</span>
<strong>else</strong>: <span class="arithmatex">\(T_1; T_2; ...\)</span> is similar, but executes statements
<span class="arithmatex">\(T_1, T_2, ...\)</span> if and only if <span class="arithmatex">\(c\)</span> evaluated to false. You can think of
<strong>elif</strong> <span class="arithmatex">\(c:\)</span> as shorthand for <strong>else</strong>: <strong>if</strong> <span class="arithmatex">\(c:\)</span>.</p>
<h3 id="import"><strong>import</strong></h3>
<p>The statement <strong>import</strong> <span class="arithmatex">\(\mathtt{m}_1, \mathtt{m}_2, ...\)</span> imports
modules <span class="arithmatex">\(\mathtt{m}_1, \mathtt{m}_2, ...\)</span> in that order. If a module is
imported more than once, its code is only included the first time. The
constants (including method constants) and shared variables declared in
that module can subsequently be referenced by prepending "<code>m</code>.". For
example, method <code>f()</code> in imported module <code>m</code> is invoked by calling
<code>m.f()</code>. If you would prefer to invoke it simply as <code>f()</code>, then you have
to import using the statement <strong>from</strong> <code>m</code> <strong>import</strong> <code>f</code>.</p>
<h3 id="invariant"><strong>invariant</strong></h3>
<p>The statement <strong>invariant</strong> <span class="arithmatex">\(c\)</span> declares that boolean expression <span class="arithmatex">\(c\)</span> is
an invariant. <span class="arithmatex">\(c\)</span> is only allowed to read shared variables and is
evaluated atomically after every state change. If it ever evaluates to
<strong>False</strong> Harmony reports and error. Harmony also reports an error if
the expression evaluates to a value other than <strong>False</strong> or <strong>True</strong>.</p>
<h3 id="let"><strong>let</strong></h3>
<p>You can introduce new local variables in a method using the <code>let</code>
expression. The statement <strong>let</strong> <span class="arithmatex">\(a = b: S_1; S_2, ...\)</span> evaluates <span class="arithmatex">\(b\)</span>,
assigns the result to local variable <span class="arithmatex">\(a\)</span>, and evaluates statements
<span class="arithmatex">\(S_1, S_2, ...\)</span>. <strong>let</strong> supports pattern matching, so you can write
<code>let</code> <span class="arithmatex">\(x, (y, z) = b: S_1; S_2, ...\)</span>. This will only work if <span class="arithmatex">\(b\)</span> is a
tuple with two elements, the second of which also being a tuple with two
elements---if not, Harmony will report an error. The variables may be
updates in statements <span class="arithmatex">\(S_1, S_2, ...\)</span>.</p>
<p><strong>let</strong> statements may be nested, such as <strong>let</strong> <span class="arithmatex">\(a_1 = b_1\)</span> <strong>let</strong>
<span class="arithmatex">\(a_2 = b_2: S_1; S_2; ...\)</span>. Doing so can improve readability by reducing
indentation compared to writing them as separate statements. Compare the
following two examples:</p>
<div class="highlight"><pre><span></span><code><span class="n">let</span> <span class="n">a</span> <span class="o">=</span> <span class="n">y</span><span class="p">:</span>
<span class="n">let</span> <span class="n">b</span> <span class="o">=</span> <span class="n">z</span><span class="p">:</span>
<span class="o">...</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">let</span> <span class="n">a</span> <span class="o">=</span> <span class="n">y</span>
<span class="n">let</span> <span class="n">b</span> <span class="o">=</span> <span class="n">z</span><span class="p">:</span>
<span class="o">...</span>
</code></pre></div>
<h3 id="pass"><strong>pass</strong></h3>
<p>The <strong>pass</strong> statement does nothing.</p>
<h3 id="possibly"><strong>possibly</strong></h3>
<p>The statement <strong>possibly <span class="arithmatex">\(b_1, b_2, ...\)</span></strong> atomically evaluates all
predicates <span class="arithmatex">\(b_i\)</span>. At completion, Harmony reports which of the predicates
never held. While <code>assert</code> statements check that nothing ever goes
wrong, <code>possibly</code> statements can check that certain things sometimes go
right.</p>
<h3 id="select-in-where"><strong>select ... in ... [ where ... ]</strong></h3>
<p>The statement <strong>select</strong> <span class="arithmatex">\(x\)</span> <strong>in</strong> <span class="arithmatex">\(y: S_1; S_2; ...\)</span> requires that <span class="arithmatex">\(y\)</span>
evaluates to a set value. The statement does the following three things
atomically:</p>
<ul>
<li>
<p>it waits until <span class="arithmatex">\(y\)</span> is non-empty;</p>
</li>
<li>
<p>it selects one element of <span class="arithmatex">\(y\)</span> non-deterministically (using a
    <code>choose</code> expression);</p>
</li>
<li>
<p>it executes statements <span class="arithmatex">\(S_1, S_2, ...\)</span> with the selected element
    assigned to local variable <span class="arithmatex">\(x\)</span>.</p>
</li>
</ul>
<p><span class="arithmatex">\(x\)</span> may be a pattern, like in <code>let</code>, <code>for</code>, and <code>def</code> statements.
Harmony reports an error if <span class="arithmatex">\(y\)</span> evaluates to a value that is not a set.
If <em>waiting</em> is an unused local variable, then <strong>select</strong> <span class="arithmatex">\(x\)</span> <strong>in</strong>
<span class="arithmatex">\(y: S_1; S_2; ...\)</span> is equivalent to</p>
<div class="highlight"><pre><span></span><code><span class="n">let</span> <span class="n">waiting</span> <span class="o">=</span> <span class="kc">True</span><span class="p">:</span>
<span class="k">while</span> <span class="n">waiting</span><span class="p">:</span>
<span class="n">atomic</span><span class="p">:</span>
<span class="k">if</span> <span class="n">y</span> <span class="o">!=</span> <span class="p">{}:</span>
<span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="n">choose</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<span class="n">S</span><span class="err">₁</span>
<span class="n">S</span><span class="err">₂</span>
<span class="o">...</span>
<span class="n">waiting</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
<p>The statement is particularly useful in programming network protocols
when having to wait for one or more messages and executing a set of
actions atomically after the desired messages have arrived.</p>
<p>The optional <strong>where</strong> clause can be used to filter the set down to the
elements that satisfy the condition following the <strong>where</strong> keyword.</p>
<h3 id="sequential"><strong>sequential</strong></h3>
<p>In Harmony, shared variable <code>Load</code> and <code>Store</code> operations are atomic and
have <em>sequential consistency</em>. However, Harmony does check for <em>data
races</em>. A data race occurs when two or more threads simultaneously
access the same shared variable, with at least one of the accesses being
a <code>Store</code> operation <em>outside of an atomic block</em>. If so, Harmony will
report an error. This error can be suppressed by declaring the shared
variable as sequential. In particular, the statement <code>sequential</code>
<span class="arithmatex">\(x, y, ...\)</span> specifies that the algorithm assumes that the given
variables have sequential consistency.</p>
<p>Note that few modern processors support sequentially consistent memory
by default, as doing so would lead to high overhead.</p>
<h3 id="spawn"><strong>spawn</strong></h3>
<p>The statement <code>spawn</code> <span class="arithmatex">\(m\)</span> <span class="arithmatex">\(a\)</span> starts a new thread that executes method
<span class="arithmatex">\(m\)</span> with argument <span class="arithmatex">\(a\)</span>. <span class="arithmatex">\(m\)</span> must be a program counter constant, and <span class="arithmatex">\(a\)</span>
is typically a tuple containing zero or more parameters to be passed to
the method.</p>
<p>The default thread-local state of the thread, called <em>self</em>, is the
empty dictionary by default. It can be specified by adding a parameter:
<code>spawn</code> <span class="arithmatex">\(m\)</span> <span class="arithmatex">\(a, e\)</span> specifies that <span class="arithmatex">\(e\)</span> should be the initial value of the
thread-local state.</p>
<p>Harmony normally checks that all threads eventually terminate. If a
thread may never terminate, you should spawn it with <code>spawn eternal</code> <span class="arithmatex">\(m\)</span>
<span class="arithmatex">\(a\)</span> to suppress those checks.</p>
<h3 id="trap"><strong>trap</strong></h3>
<p>The statement <strong>trap</strong> <span class="arithmatex">\(m\)</span> <span class="arithmatex">\(a\)</span> specifies that the current thread should
execute method <span class="arithmatex">\(m\)</span> with argument <span class="arithmatex">\(a\)</span> and some future, unspecified, time.
It models a timer interrupt or any kind of asynchronous event to be
handled by the thread. Such interrupts can be disabled by setting the
interrupt level of the thread to <strong>True</strong> using the <strong>setintlevel</strong>
operator.</p>
<h3 id="while"><strong>while</strong></h3>
<p>The statement <strong>while</strong> <span class="arithmatex">\(c: S_1; S_2; ...\)</span> executes statements
<span class="arithmatex">\(S_1, S_2, ...\)</span> repeatedly as long as <span class="arithmatex">\(c\)</span> evaluates to <strong>True</strong>. Harmony
does not support <strong>break</strong> or <strong>continue</strong> statements.</p>
<h2 id="harmony-is-not-object-oriented">Harmony is not object-oriented</h2>
<p>Python is object-oriented, but Harmony is not. For Python programmers,
this can lead to some unexpected differences. For example, consider the
following code:</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">assert</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div>
<p>In Python, lists are objects. Thus <span class="arithmatex">\(x\)</span> and <span class="arithmatex">\(y\)</span> point to the same list,
and the assertion would fail if executed by Python. In Harmony, lists
are values. So, when <span class="arithmatex">\(x\)</span> is updated in Line 2, it does not affect the
value of <span class="arithmatex">\(y\)</span>. The assertion succeeds. Harmony supports references to
values (), allowing programs to implement shared objects.</p>
<p>Because Harmony does not have objects, it also does not have object
methods. However, Harmony methods and lambdas are program counter
constants. These constants can be added to dictionaries. For example, in
you can add the <code>P_enter</code> and <code>P_exit</code> methods to the <code>P_mutex</code>
dictionary like so:</p>
<div class="highlight"><pre><span></span><code>{ .turn: 0, .flags: [ False, False ], .enter: P_enter, .exit: P_exit }
</code></pre></div>
<p>That would allow you to simulate object methods.</p>
<p>There are at least two reasons why Harmony is not object-oriented.
First, object-orientation often adds layers of indirection that would
make it harder to model check and also to interpret the results.
Consider, for example, a lock. In Python, a lock is an object. A lock
variable would contain a reference to a lock object. In Harmony, a lock
variable contains the value of the lock itself. Thus, the following
statement means something quite different in Python and Harmony:</p>
<div class="highlight"><pre><span></span><code>x = y = Lock()
</code></pre></div>
<p>In Python, this creates two variables <span class="arithmatex">\(x\)</span> and <span class="arithmatex">\(y\)</span> referring to the same
lock. In Harmony, the two variables will be two different locks. If you
want two variables referring to the same lock in Harmony, you might
write:</p>
<div class="highlight"><pre><span></span><code>lock = Lock()
x = y = ?lock
</code></pre></div>
<p>The second reason for Harmony not being object-oriented is that many
concurrency solutions in the literature are expressed in C or some other
low-level language that does not support object-orientation, but instead
use <code>malloc</code> and <code>free</code>.</p>
<h2 id="constants-global-and-local-variables">Constants, Global and Local Variables</h2>
<p>Each (non-reserved) identifier in a Harmony program refers to either a
constant, a global shared variable, a local variable, or a module.
Constants are declared using <code>const</code> statements. Those constants are
computed at compile-time.</p>
<p>Local variables all declared. They can be declared in <code>def</code> statements
(i.e., arguments), <code>let</code> statements, <code>for</code> loops, and <code>select</code>
statements. Also, each method has an implicitly declared <em>result</em>
variable, which is initialized to <code>None</code>. Each thread has a variable
called <em>this</em> that contains the thread-local state. Local variables are
tightly scoped and cannot be shared between threads. While in theory one
method can be declared within another, they cannot share local variables
either. All other variables are global and must be initialized before
any threads are spawned.</p>
<p>While arguments to a method and variables in <code>for</code> loops can be
modified, we discourage it for improved code readability.</p>
<h2 id="operator-precedence">Operator Precedence</h2>
<p>In Harmony, there is no syntactic difference between applying an
argument to a function or an index to a dictionary. Both use the syntax
<em>a b c ...</em>. We call this <em>application</em>, and application is
left-associative. So, <em>a b c</em> is interpreted as (<em>a b</em>) <span class="arithmatex">\(c\)</span>: <span class="arithmatex">\(b\)</span> is
applied to <span class="arithmatex">\(a\)</span>, and then <span class="arithmatex">\(c\)</span> is applied to the result. For readability,
it may help to write <span class="arithmatex">\(a(b)\)</span> for function application and <span class="arithmatex">\(a[b]\)</span> for
indexing. In case <span class="arithmatex">\(b\)</span> is an atom, you can also write <span class="arithmatex">\(a.b\)</span> for indexing.</p>
<p>There are three levels of precedence. Application has the highest
precedence. So, <code>!</code><em>a b</em> is interpreted as <code>!</code>(<em>a b</em>) and <em>a b</em> <code>+</code> <em>c
d</em> is interpreted as (<em>a b</em>) <code>+</code> (<em>c d</em>). Unary operators have the next
highest precedence, and the remaining operators have the lowest
precedence. For example, <span class="arithmatex">\(-2 + 3\)</span> evaluates to 1, not <span class="arithmatex">\(-5\)</span>.</p>
<p>Associative operators (<span class="arithmatex">\(+\)</span>, <span class="arithmatex">\(*\)</span>, <span class="arithmatex">\(|\)</span>, <span class="arithmatex">\(\string&amp;\)</span>, <span class="arithmatex">\(\string^\)</span>, <strong>and</strong>,
<strong>or</strong>) are interpreted as general <span class="arithmatex">\(n\)</span>-ary operators, and you are
allowed to write <span class="arithmatex">\(a + b + c\)</span>. However, <span class="arithmatex">\(a - b - c\)</span> is illegal, as is any
combination of operators with an arity larger than one, such as
<span class="arithmatex">\(a + b &lt; c\)</span>. In such cases you have to add parentheses or brackets to
indicate what the intended evaluation order is, such as <span class="arithmatex">\((a + b) &lt; c\)</span>.</p>
<p>In almost all expressions, subexpressions are evaluated left to right.
So, <span class="arithmatex">\(a[b] + c\)</span> first evaluates <span class="arithmatex">\(a\)</span>, then <span class="arithmatex">\(b\)</span> (and then applies <span class="arithmatex">\(b\)</span> to
<span class="arithmatex">\(a\)</span>), and then <span class="arithmatex">\(c\)</span>. The one exception is the expression <span class="arithmatex">\(a\)</span> <strong>if</strong> <span class="arithmatex">\(c\)</span>
<strong>else</strong> <span class="arithmatex">\(b\)</span>, where <span class="arithmatex">\(c\)</span> is evaluated first. In that expression, only <span class="arithmatex">\(a\)</span>
or <span class="arithmatex">\(b\)</span> is evaluated depending on the value of <span class="arithmatex">\(c\)</span>. In the expression <span class="arithmatex">\(a\)</span>
<strong>and</strong> <span class="arithmatex">\(b\)</span> <strong>and</strong> <span class="arithmatex">\(...\)</span>, evaluation is left to right but stops once
one of the subexpressions evaluates to <strong>False</strong>. Similarly for <strong>or</strong>,
where evaluation stops once one of the subexpressions evaluates to
<strong>True</strong>. A sequence of comparison operations, such as <span class="arithmatex">\(a &lt; b &lt; c\)</span>, is
evaluated left to right but stops as soon as one of the comparisons
fails.</p>
<p>As an aside: the expression <span class="arithmatex">\(a\)</span> <strong>not in</strong> <span class="arithmatex">\(b\)</span> is equivalent to <strong>not</strong>
(<span class="arithmatex">\(a\)</span> <strong>in</strong> <span class="arithmatex">\(b\)</span>). Harmony generalizes this construct for any pair of a
unary (except '<span class="arithmatex">\(-\)</span>') and a binary operator. In particular, <span class="arithmatex">\(a\)</span> <strong>not
and</strong> <span class="arithmatex">\(b\)</span> is the same as <strong>not</strong> (<span class="arithmatex">\(a\)</span> <strong>and</strong> <span class="arithmatex">\(b\)</span>). For those familiar
with logic gates, <strong>not and</strong> is the equivalent of <code>NAND</code>. Similarly,
<strong>not</strong> <code>=&gt;</code> is non-implication.</p>
<h2 id="tuples-lists-and-pattern-matching">Tuples, Lists, and Pattern Matching</h2>
<p>Harmony's tuples and, equivalently, lists, are just special cases of
dictionaries. They can be bracketed either by '(' and ')' or by '[' and
']', but the brackets are often optional. Importantly, with a singleton
list, the one element must be followed by a comma. For example, the
statement <code>x = 1,;</code> assigns a singleton tuple (or list) to <span class="arithmatex">\(x\)</span>.</p>
<p>Because tuples and lists are dictionaries, the <code>del</code> statement is
different from Python. For example, if <span class="arithmatex">\(x\)</span> = [.a, .b, .c], then <code>del</code>
<span class="arithmatex">\(x\)</span>[1] results in <span class="arithmatex">\(x\)</span> = { 0:.a, 2:.c }, <em>not</em> <span class="arithmatex">\(x\)</span> = [.a, .c].
Harmony also does not support special slicing syntax like Python. To
modify lists, use the <code>subseq</code> method in the <code>list</code> module ().</p>
<p>Harmony allows pattern matching against nested tuples in various
language constructs. The following are the same in Python and Harmony:</p>
<ul>
<li>
<p><code>x, = 1,</code>: assigns 1 to <span class="arithmatex">\(x\)</span>;</p>
</li>
<li>
<p><code>x, y = 1, (2, 3)</code>: assigns 1 to <span class="arithmatex">\(x\)</span> and (2, 3) to <span class="arithmatex">\(y\)</span>;</p>
</li>
<li>
<p><code>x, (y, z) = 1, (2, 3)</code>: assigns 1 to <span class="arithmatex">\(x\)</span>, 2 to <span class="arithmatex">\(y\)</span>, and 3 to <span class="arithmatex">\(z\)</span>;</p>
</li>
<li>
<p><code>x, (y, z) = 1, 2</code>: generates an runtime error because 2 cannot be
    matched with (<span class="arithmatex">\(y\)</span>, <span class="arithmatex">\(z\)</span>);</p>
</li>
<li>
<p><code>x[0], x[1] = x[1], x[0]</code>: swaps the first two elements of list <span class="arithmatex">\(x\)</span>.</p>
</li>
</ul>
<p>As in Python, pattern matching can also be used in <code>for</code> statements. For
example:</p>
<p><code>for</code> key, value in [ (1, 2), (3, 4) ]: ...</p>
<p>Harmony (but not Python) also allows pattern matching in defining and
invoking methods. For example, you can write:</p>
<p><code>def</code> f[<span class="arithmatex">\(a\)</span>, (<span class="arithmatex">\(b\)</span>, <span class="arithmatex">\(c\)</span>)]: ...</p>
<p>and then call <code>f[1, (2, 3)]</code>. Note that the more familiar: <code>def</code> g(<span class="arithmatex">\(a\)</span>)
defines a method <span class="arithmatex">\(g\)</span> with a single argument <span class="arithmatex">\(a\)</span>. Invoking g(1, 2) would
assign the tuple (1, 2) to <span class="arithmatex">\(a\)</span>. This is not consistent with Python
syntax. For single argument methods, you may want to declare as follows:
<code>def</code> g(<span class="arithmatex">\(a,\)</span>). Calling g(1,) assigns 1 to <span class="arithmatex">\(a\)</span>, while calling g(1, 2)
would result in a runtime error as (1, 2) cannot be matched with (<span class="arithmatex">\(a\)</span>,).</p>
<p>Pattern matching can also be used in <code>const</code>, <code>let</code>, and <code>select</code>
statements.</p>
<h2 id="dynamic-allocation">Dynamic Allocation</h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">stack</span> <span class="kn">import</span> <span class="n">Stack</span><span class="p">,</span> <span class="n">push</span><span class="p">,</span> <span class="n">pop</span>
<span class="n">teststack</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">()</span>
<span class="n">push</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">push</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">2</span>
<span class="n">push</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="err">?</span><span class="n">teststack</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">Stack</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>

<span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)]</span> <span class="o">=</span> <span class="n">v</span>

<span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
    <span class="n">let</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)</span> <span class="err">–</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)[</span><span class="n">n</span><span class="p">]</span>
        <span class="k">del</span> <span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">list</span>

<span class="k">def</span> <span class="nf">Stack</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>

<span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="err">!</span><span class="n">st</span> <span class="o">+=</span> <span class="p">[</span><span class="n">v</span><span class="p">,]</span>

<span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
    <span class="n">let</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)</span> <span class="err">–</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)[</span><span class="n">n</span><span class="p">]</span>
        <span class="err">!</span><span class="n">st</span> <span class="o">=</span> <span class="nb">list</span><span class="o">.</span><span class="n">subseq</span><span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">Stack</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">()</span>

<span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="p">(</span><span class="err">!</span><span class="n">st</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="err">!</span><span class="n">st</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
    <span class="n">let</span> <span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span> <span class="o">=</span> <span class="err">!</span><span class="n">st</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">top</span>
        <span class="err">!</span><span class="n">st</span> <span class="o">=</span> <span class="n">rest</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">alloc</span> <span class="kn">import</span> <span class="n">malloc</span><span class="p">,</span> <span class="n">free</span>

<span class="k">def</span> <span class="nf">Stack</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="err">!</span><span class="n">st</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">({</span> <span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">v</span><span class="p">,</span> <span class="o">.</span><span class="n">rest</span><span class="p">:</span> <span class="err">!</span><span class="n">st</span> <span class="p">})</span>

<span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
    <span class="n">let</span> <span class="n">node</span> <span class="o">=</span> <span class="err">!</span><span class="n">st</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">value</span>
        <span class="err">!</span><span class="n">st</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">rest</span>
        <span class="n">free</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div>
<p>Harmony supports various options for dynamic allocation. By way of
example, consider a stack. presents a test program for a stack. We
present four different stack implementations to illustrate options for
dynamic allocation:</p>
<ol>
<li>
<p>uses a single list to represent the stack. It is updated to perform
    <code>push</code> and <code>pop</code> operations;</p>
</li>
<li>
<p>also uses a list but, instead of updating the list, it replaces the
    list with a new one for each operation;</p>
</li>
<li>
<p>represents a stack as a recursively nested tuple <span class="arithmatex">\((v, f)\)</span>, where <span class="arithmatex">\(v\)</span>
    is the element on top of the stack and <span class="arithmatex">\(r\)</span> is a stack that is the
    remainder;</p>
</li>
<li>
<p>implements a stack as a linked list with nodes allocated using the
    <code>alloc</code> module.</p>
</li>
</ol>
<p>While the last option is the most versatile (it allows cyclic data
structures), Harmony does not support garbage collection for memory
allocated this way and so allocated memory that is no longer in use must
be explicitly released using <code>free</code>.</p>
<h2 id="comments">Comments</h2>
<p>Harmony supports the same commenting conventions as Python. In addition,
Harmony supports nested multi-line comments of the form <code>(* comment *)</code>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../ns/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Needham-Schroeder Authentication Protocol" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Needham-Schroeder Authentication Protocol
            </div>
          </div>
        </a>
      
      
        
        <a href="../hvm/" class="md-footer__link md-footer__link--next" aria-label="Next: The Harmony Virtual Machine " rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              The Harmony Virtual Machine 
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>